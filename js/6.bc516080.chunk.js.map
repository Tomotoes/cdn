{"version":3,"sources":["auth.js","Auth.jsx","utils/http.js"],"names":["ReactDOM","render","className","window","WEIBO","auth","document","getElementById","Verificate","then","res","opener","postMessage","JSON","stringify","token","data","access_token","location","catch","error","Weibo","axios","create","baseURL","headers","Authorization","join","Comment","COMMENT","RequestByToken","Promise","reject","Request","proxy","clientID","clientSecret","post","code","client_id","client_secret","Github"],"mappings":"4JAKAA,IAASC,OAAO,mBCFD,WACb,OACE,yBAAKC,UAAU,gBACb,yBAAKA,UAAU,cACb,0BAAMA,UAAU,iBAAgB,0BAAMA,UAAU,kBAChD,uBAAGA,UAAU,mBAAmBC,OAAOC,MAAMC,UDHrC,MAAUC,SAASC,eAAe,oBAElDC,cAAaC,MAAK,SAAAC,GAChBP,OAAOQ,OAAOC,YACZC,KAAKC,UAAU,CAAEC,MAAOL,EAAIM,KAAKC,eACjCd,OAAOQ,OAAOO,aAEfC,OAAM,SAAAC,GACPjB,OAAOQ,OAAOC,YACZC,KAAKC,UAAU,CAAEM,UACjBjB,OAAOQ,OAAOO,c,gCEflB,+LAEaG,EAAQC,IAAMC,OAAO,CAChCC,QAAS,0BACTC,QAAS,CACP,OAAU,mBACVC,cAAc,UAAD,OAAYvB,OAAOC,MAAMW,MAAMY,KAAK,QAIxCC,EAAUN,IAAMC,OAAO,CAClCC,QAAS,0BACTC,QAAS,CACP,OAAU,mBACVC,cAAc,UAAD,OAAYvB,OAAO0B,QAAQd,MAAMY,KAAK,QAI1CG,EAAiB,SAAAf,GAC5B,OAAIA,EAGGO,IAAMC,OAAO,CAClBC,QAAS,0BACTC,QAAS,CACP,OAAU,mBACVC,cAAc,UAAD,OAAYX,MANpBgB,QAAQC,UAWNC,EAAUX,IAAMC,OAAO,CAClCE,QAAS,CACP,OAAU,sB,EAI4BtB,OAAO0B,QAAzCK,E,EAAAA,MAAOC,E,EAAAA,SAAUC,E,EAAAA,aACZ5B,EAAa,kBAAMyB,EAAQI,KAAKH,EAAO,CAClDI,KAAMnC,OAAOE,KAAKiC,KAClBC,UAAWJ,EACXK,cAAeJ,KAIJK,EAASnB,IAAMC,OAAO,CACjCC,QAAS,yBACTC,QAAS,CACP,OAAU,uB","file":"static/js/6.bc516080.chunk.js","sourcesContent":["import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Auth from './Auth.jsx'\r\nimport { Verificate } from './utils/http'\r\n\r\nReactDOM.render(<Auth />, document.getElementById('weibo-container'))\r\n\r\nVerificate().then(res => {\r\n  window.opener.postMessage(\r\n    JSON.stringify({ token: res.data.access_token }),\r\n    window.opener.location\r\n  )\r\n}).catch(error => {\r\n  window.opener.postMessage(\r\n    JSON.stringify({ error }),\r\n    window.opener.location\r\n  )\r\n})","import React from 'react'\r\nimport './style/index.less'\r\n\r\nexport default () => {\r\n  return (\r\n    <div className='is-container'>\r\n      <div className=\"is-initing\">\r\n        <span className=\"square-loader\"><span className=\"square-inner\"></span></span>\r\n        <p className=\"is-initing-text\">{window.WEIBO.auth}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import axios from 'axios'\r\n\r\nexport const Weibo = axios.create({\r\n  baseURL: 'https://api.github.com/',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    Authorization: `bearer ${window.WEIBO.token.join('')}`\r\n  }\r\n})\r\n\r\nexport const Comment = axios.create({\r\n  baseURL: 'https://api.github.com/',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    Authorization: `bearer ${window.COMMENT.token.join('')}`\r\n  }\r\n})\r\n\r\nexport const RequestByToken = token => {\r\n  if(!token){\r\n    return Promise.reject()\r\n  }\r\n  return axios.create({\r\n    baseURL: 'https://api.github.com/',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      Authorization: `bearer ${token}`\r\n    }\r\n  })\r\n}\r\n\r\nexport const Request = axios.create({\r\n  headers: {\r\n    'Accept': 'application/json'\r\n  }\r\n})\r\n\r\nconst { proxy, clientID, clientSecret } = window.COMMENT\r\nexport const Verificate = () => Request.post(proxy, {\r\n  code: window.auth.code,\r\n  client_id: clientID,\r\n  client_secret: clientSecret\r\n})\r\n\r\n\r\nexport const Github = axios.create({\r\n  baseURL: 'https://api.github.com',\r\n  headers: {\r\n    'Accept': 'application/json'\r\n  }\r\n})"],"sourceRoot":""}